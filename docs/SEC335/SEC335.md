# Journal

## 1/21/2022
#### Passive Recon
- www.boltonvalley.com
- Tools
 - `whois`
 - `nslookup`
 - theHarvester
 - [archive.org](https://archive.org)

## 1/27/2022
- setup crd on kali
- installed wireguard on kali
- `sudo apt install wireguard`

## 1/28/2022
- ephemeral port on src device
### Host Discovery
- ping
```bash
for ip in $(seq 2 50); do ping 10.0.5.$ip -c 1 -t 20| grep "bytes from" | grep -oP "(\d+\.){3}\d+" >> sweep.txt; done
```
- fping
```bash
sudo fping -g 10.0.5.2 10.0.5.50 | grep "alive" | cut -d " " -f 1 >> sweep2.txt
```
- nmap
```bash
sudo nmap -n --open -sn 10.0.5.2-50 | grep report | cut -d " " -f 5 > sweep3.txt
```
- & to not wait for command to complete
#### Reflections
- Had trouble with running bash file - Fixed with
```bash
chmod +x
```
- Really slow until lowered ttl for pings

## 2/3/2022
### nmap
- Needs sudo to check with ICMP to see if host is open
- Checks all ports even if host is down:
```bash
sudo nmap ip -Pn
```
- Target specific ports:
```bash
sudo nmap ip -p ports
```
- Get versions of:
```bash
sudo nmap ip -sV
```
- Checks everything and tracert:
```bash
sudo nmap ip -A
```
### Port Scanning
#### Enable RDP
- Settings > System > Remote Desktop
#### Reflection
- OS and Version detection not always accurate

## 2/4/2022
### PowerShell and DNS
- use single quotes around period to escape it
```bash
Resolve-DnsName -Name $network'.'$i -DnsOnly -Server $server | Select-Object -Property Name,NameHost
```
- for loops with -gt,-lt,-eq
- Pipe to Get-Member to list properties
- Pipe to Select-Object to use those properties
## 2/10/2022
### Bash and DNS
[DNS page](dns-enumeration.md)
### Reflections
- nmap -oG for greppable output
- `
dig axfr @nameserver domain
` for zone transfer
- `
nslookup -vc
` to use TCP instead of UDP
- `
nmap -sS -sU
` to query tcp and udp ports
